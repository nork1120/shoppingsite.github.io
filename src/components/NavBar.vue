<template>
  <NavLogin
    ref="NavLogin"
    :ssg="confirm"
    @Logmemberin="logme"
    @reg="check"
  ></NavLogin>
  <Record ref="Record"></Record>
  <discount ref="Discount"></discount>
  <div
    class="modal fade"
    id="exampleModal"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
    ref="mod1"
  >
    <div class="modal-dialog modal-xl modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">購物車</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <div class="middle">
            <div class="modtitl"><h5>商品</h5></div>
            <div
              class="modtext"
              v-for="(spg, spgle) in newuser.shoppingcart"
              :key="spg.id"
            >
              <div class="modleft">
                <div
                  class="img"
                  :style="{ backgroundImage: 'url(' + spg.imageUrl + ')' }"
                ></div>
                <div class="modleftext">
                  <p>{{ spg.title }}</p>
                </div>
              </div>
              <div class="modrigth">
                <div class="lele">
                  <button @click="shoppingDelete(spgle)">刪除</button>
                </div>
                <div class="riri">
                  <div class="quantity">
                    <p>數量</p>
                    <input
                      type="number"
                      v-model="spg.people"
                      @input="alltotal"
                    />
                  </div>
                  <div class="price">
                    <h5>{{ spg.price }}</h5>
                    <p>元</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="total">
            <div class="totaleft">
              <p>總金額</p>
            </div>
            <div class="totarigth">
              <h5>元</h5>
              <p>{{ Shoppingtoto }}</p>
            </div>
          </div>
          <div class="totalbottom">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              關閉
            </button>
            <button type="button" class="btn btn-primary" @click="shoppingCart">
              付款
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
      <div class="go" :class="{ gogo: anim }">
        <div class="Transi">
          <div class="bac">
            <div class="bacc"><div class="baccc"></div></div>
          </div>
        </div>
      </div>
      <div class="nas">
        <a
          class="navbar-brand"
          href="#"
          @click="
            blu = 1;
            remov();
          "
          ><img src="../imgoricons/icon/logo.svg" alt=""
        /></a>
      </div>
      <button
        class="navbar-toggler"
        type="button"
        @click="
          endnav = false;
          opennav = true;
        "
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li
            class="nav-item"
            :class="{ n1: blu == 1 }"
            @click="
              blu = 1;
              remov();
            "
          >
            <a class="nav-link active" aria-current="page" href="#">首頁</a>
          </li>
          <li
            class="nav-item n2"
            :class="{ n1: blu == 2 }"
            @click="
              blu = 2;
              remov();
            "
          >
            <router-link class="nav-link" to="/seafishing"
              >海釣行程</router-link
            >
          </li>
          <li
            class="nav-item n3"
            :class="{ n1: blu == 3 }"
            @click="
              blu = 3;
              remov();
            "
          >
            <router-link class="nav-link" to="/CommoDity">海釣商品</router-link>
          </li>
          <li
            class="nav-item n4"
            :class="{ n1: blu == 4 }"
            @click="
              blu = 4;
              remov();
            "
          >
            <a class="nav-link" href="#">常見問題</a>
          </li>
        </ul>
      </div>
    </div>
    <div class="member">
      <ul>
        <li>
          <a href="#" @click.prevent="mod1show"
            ><svg
              width="29"
              height="29"
              viewBox="0 0 29 29"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0 1.8125C0 1.56386 0.098772 1.3254 0.274587 1.14959C0.450403 0.973772 0.68886 0.875 0.9375 0.875L3.75 0.875C3.95912 0.875058 4.16222 0.945033 4.327 1.0738C4.49177 1.20256 4.60877 1.38272 4.65937 1.58562L5.41875 4.625L27.1875 4.625C27.3261 4.62508 27.4631 4.65592 27.5883 4.71528C27.7136 4.77465 27.8242 4.86107 27.9121 4.96831C28 5.07555 28.063 5.20095 28.0965 5.33548C28.1301 5.47 28.1334 5.61029 28.1062 5.74625L26.2312 15.1212C26.1902 15.3257 26.0822 15.5106 25.9243 15.6468C25.7664 15.783 25.5676 15.8626 25.3594 15.8731L7.74 16.7581L8.27812 19.625L24.375 19.625C24.6236 19.625 24.8621 19.7238 25.0379 19.8996C25.2137 20.0754 25.3125 20.3139 25.3125 20.5625C25.3125 20.8111 25.2137 21.0496 25.0379 21.2254C24.8621 21.4012 24.6236 21.5 24.375 21.5L7.5 21.5C7.28144 21.4998 7.06981 21.4232 6.90171 21.2836C6.7336 21.1439 6.61959 20.9498 6.57938 20.735L3.76875 5.76313L3.01875 2.75L0.9375 2.75C0.68886 2.75 0.450403 2.65123 0.274587 2.47541C0.098772 2.2996 0 2.06114 0 1.8125ZM5.81625 6.5L7.39125 14.8981L24.5363 14.0375L26.0438 6.5L5.81625 6.5ZM9.375 21.5C8.38044 21.5 7.42661 21.8951 6.72335 22.5984C6.02009 23.3016 5.625 24.2554 5.625 25.25C5.625 26.2446 6.02009 27.1984 6.72335 27.9016C7.42661 28.6049 8.38044 29 9.375 29C10.3696 29 11.3234 28.6049 12.0267 27.9016C12.7299 27.1984 13.125 26.2446 13.125 25.25C13.125 24.2554 12.7299 23.3016 12.0267 22.5984C11.3234 21.8951 10.3696 21.5 9.375 21.5ZM22.5 21.5C21.5054 21.5 20.5516 21.8951 19.8484 22.5984C19.1451 23.3016 18.75 24.2554 18.75 25.25C18.75 26.2446 19.1451 27.1984 19.8484 27.9016C20.5516 28.6049 21.5054 29 22.5 29C23.4946 29 24.4484 28.6049 25.1516 27.9016C25.8549 27.1984 26.25 26.2446 26.25 25.25C26.25 24.2554 25.8549 23.3016 25.1516 22.5984C24.4484 21.8951 23.4946 21.5 22.5 21.5ZM9.375 23.375C9.87228 23.375 10.3492 23.5725 10.7008 23.9242C11.0525 24.2758 11.25 24.7527 11.25 25.25C11.25 25.7473 11.0525 26.2242 10.7008 26.5758C10.3492 26.9275 9.87228 27.125 9.375 27.125C8.87772 27.125 8.40081 26.9275 8.04918 26.5758C7.69754 26.2242 7.5 25.7473 7.5 25.25C7.5 24.7527 7.69754 24.2758 8.04918 23.9242C8.40081 23.5725 8.87772 23.375 9.375 23.375ZM22.5 23.375C22.9973 23.375 23.4742 23.5725 23.8258 23.9242C24.1775 24.2758 24.375 24.7527 24.375 25.25C24.375 25.7473 24.1775 26.2242 23.8258 26.5758C23.4742 26.9275 22.9973 27.125 22.5 27.125C22.0027 27.125 21.5258 26.9275 21.1742 26.5758C20.8225 26.2242 20.625 25.7473 20.625 25.25C20.625 24.7527 20.8225 24.2758 21.1742 23.9242C21.5258 23.5725 22.0027 23.375 22.5 23.375Z"
                fill="#EEFDFF"
              /></svg
          ></a>
        </li>
        <li>
          <a href="#" @click.prevent="record"
            ><svg
              width="30"
              height="30"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_98_24)">
                <path
                  d="M14 3.21429C14 2.93013 14.1054 2.6576 14.2929 2.45667C14.4804 2.25574 14.7348 2.14286 15 2.14286L29 2.14286C29.2652 2.14286 29.5196 2.25574 29.7071 2.45667C29.8946 2.6576 30 2.93013 30 3.21429V5.35714C30 5.6413 29.8946 5.91383 29.7071 6.11476C29.5196 6.31569 29.2652 6.42857 29 6.42857L15 6.42857C14.7348 6.42857 14.4804 6.31569 14.2929 6.11476C14.1054 5.91383 14 5.6413 14 5.35714V3.21429ZM4 0C2.93913 0 1.92172 0.451529 1.17157 1.25526C0.421427 2.05898 0 3.14907 0 4.28571L0 8.57143C0 9.70807 0.421427 10.7982 1.17157 11.6019C1.92172 12.4056 2.93913 12.8571 4 12.8571L8 12.8571C9.06087 12.8571 10.0783 12.4056 10.8284 11.6019C11.5786 10.7982 12 9.70807 12 8.57143L12 4.28571C12 3.14907 11.5786 2.05898 10.8284 1.25526C10.0783 0.451529 9.06087 0 8 0L4 0ZM4 17.1429C2.93913 17.1429 1.92172 17.5944 1.17157 18.3981C0.421427 19.2018 0 20.2919 0 21.4286L0 25.7143C0 26.8509 0.421427 27.941 1.17157 28.7447C1.92172 29.5485 2.93913 30 4 30H8C9.06087 30 10.0783 29.5485 10.8284 28.7447C11.5786 27.941 12 26.8509 12 25.7143V21.4286C12 20.2919 11.5786 19.2018 10.8284 18.3981C10.0783 17.5944 9.06087 17.1429 8 17.1429H4ZM5.708 9.33C5.61511 9.42978 5.50476 9.50894 5.38327 9.56296C5.26178 9.61697 5.13153 9.64477 5 9.64477C4.86847 9.64477 4.73822 9.61697 4.61673 9.56296C4.49524 9.50894 4.38489 9.42978 4.292 9.33L2.292 7.18714C2.19902 7.08753 2.12527 6.96926 2.07495 6.83911C2.02464 6.70895 1.99874 6.56945 1.99874 6.42857C1.99874 6.28769 2.02464 6.14819 2.07495 6.01804C2.12527 5.88788 2.19902 5.76962 2.292 5.67C2.38498 5.57038 2.49535 5.49136 2.61683 5.43745C2.73831 5.38354 2.86851 5.35579 3 5.35579C3.13149 5.35579 3.26169 5.38354 3.38317 5.43745C3.50465 5.49136 3.61502 5.57038 3.708 5.67L5 7.05643L8.292 3.52714C8.38498 3.42753 8.49535 3.34851 8.61683 3.29459C8.73831 3.24068 8.86851 3.21293 9 3.21293C9.13149 3.21293 9.26169 3.24068 9.38317 3.29459C9.50465 3.34851 9.61502 3.42753 9.708 3.52714C9.80098 3.62676 9.87473 3.74502 9.92505 3.87518C9.97537 4.00533 10.0013 4.14483 10.0013 4.28571C10.0013 4.42659 9.97537 4.56609 9.92505 4.69625C9.87473 4.82641 9.80098 4.94467 9.708 5.04429L5.708 9.33ZM5.708 26.4729C5.61511 26.5726 5.50476 26.6518 5.38327 26.7058C5.26178 26.7598 5.13153 26.7876 5 26.7876C4.86847 26.7876 4.73822 26.7598 4.61673 26.7058C4.49524 26.6518 4.38489 26.5726 4.292 26.4729L2.292 24.33C2.10423 24.1288 1.99874 23.8559 1.99874 23.5714C1.99874 23.2869 2.10423 23.014 2.292 22.8129C2.47977 22.6117 2.73445 22.4986 3 22.4986C3.26555 22.4986 3.52023 22.6117 3.708 22.8129L5 24.1993L8.292 20.67C8.47977 20.4688 8.73445 20.3558 9 20.3558C9.26555 20.3558 9.52023 20.4688 9.708 20.67C9.89577 20.8712 10.0013 21.1441 10.0013 21.4286C10.0013 21.7131 9.89577 21.986 9.708 22.1871L5.708 26.4729ZM14 20.3571C14 20.073 14.1054 19.8005 14.2929 19.5995C14.4804 19.3986 14.7348 19.2857 15 19.2857H29C29.2652 19.2857 29.5196 19.3986 29.7071 19.5995C29.8946 19.8005 30 20.073 30 20.3571V22.5C30 22.7842 29.8946 23.0567 29.7071 23.2576C29.5196 23.4585 29.2652 23.5714 29 23.5714H15C14.7348 23.5714 14.4804 23.4585 14.2929 23.2576C14.1054 23.0567 14 22.7842 14 22.5V20.3571ZM14 9.64286C14 9.3587 14.1054 9.08617 14.2929 8.88524C14.4804 8.68431 14.7348 8.57143 15 8.57143L25 8.57143C25.2652 8.57143 25.5196 8.68431 25.7071 8.88524C25.8946 9.08617 26 9.3587 26 9.64286C26 9.92702 25.8946 10.1995 25.7071 10.4005C25.5196 10.6014 25.2652 10.7143 25 10.7143L15 10.7143C14.7348 10.7143 14.4804 10.6014 14.2929 10.4005C14.1054 10.1995 14 9.92702 14 9.64286ZM14 26.7857C14 26.5016 14.1054 26.229 14.2929 26.0281C14.4804 25.8272 14.7348 25.7143 15 25.7143H25C25.2652 25.7143 25.5196 25.8272 25.7071 26.0281C25.8946 26.229 26 26.5016 26 26.7857C26 27.0699 25.8946 27.3424 25.7071 27.5433C25.5196 27.7443 25.2652 27.8571 25 27.8571H15C14.7348 27.8571 14.4804 27.7443 14.2929 27.5433C14.1054 27.3424 14 27.0699 14 26.7857Z"
                  fill="#EEFDFF"
                />
              </g>
              <defs>
                <clipPath id="clip0_98_24">
                  <rect width="30" height="30" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </a>
        </li>
        <li>
          <a href="#" @click.prevent="Discount"
            ><svg
              width="30"
              height="30"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_98_31)">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M20.625 28.125C22.6141 28.125 24.5218 27.3348 25.9283 25.9283C27.3348 24.5218 28.125 22.6141 28.125 20.625C28.125 18.6359 27.3348 16.7282 25.9283 15.3217C24.5218 13.9152 22.6141 13.125 20.625 13.125C18.6359 13.125 16.7282 13.9152 15.3217 15.3217C13.9152 16.7282 13.125 18.6359 13.125 20.625C13.125 22.6141 13.9152 24.5218 15.3217 25.9283C16.7282 27.3348 18.6359 28.125 20.625 28.125V28.125ZM30 20.625C30 23.1114 29.0123 25.496 27.2541 27.2541C25.496 29.0123 23.1114 30 20.625 30C18.1386 30 15.754 29.0123 13.9959 27.2541C12.2377 25.496 11.25 23.1114 11.25 20.625C11.25 18.1386 12.2377 15.754 13.9959 13.9959C15.754 12.2377 18.1386 11.25 20.625 11.25C23.1114 11.25 25.496 12.2377 27.2541 13.9959C29.0123 15.754 30 18.1386 30 20.625V20.625Z"
                  fill="#EEFDFF"
                />
                <path
                  d="M17.6962 22.395C17.7843 23.5125 18.6675 24.3825 20.2518 24.4875V25.3125H20.955V24.4819C22.5956 24.3675 23.5537 23.49 23.5537 22.2188C23.5537 21.06 22.8225 20.4638 21.51 20.1562L20.955 20.025V17.775C21.66 17.8556 22.1062 18.24 22.2131 18.7725H23.4468C23.3587 17.6944 22.4343 16.8525 20.955 16.7606V15.9375H20.2518V16.7812C18.8512 16.9181 17.8987 17.76 17.8987 18.9525C17.8987 20.0062 18.6075 20.6775 19.7868 20.9512L20.2518 21.0656V23.4506C19.5318 23.3419 19.0537 22.9444 18.9468 22.395H17.6943H17.6962ZM20.2462 19.8563C19.5543 19.6969 19.1793 19.3687 19.1793 18.8775C19.1793 18.3262 19.5843 17.9137 20.2518 17.7937V19.8563H20.2462V19.8563ZM21.0562 21.255C21.8981 21.45 22.2843 21.765 22.2843 22.3219C22.2843 22.9575 21.8025 23.3925 20.955 23.4731V21.2325L21.0562 21.255V21.255Z"
                  fill="#EEFDFF"
                />
                <path
                  d="M1.875 0C1.37772 0 0.900806 0.197544 0.549175 0.549175C0.197544 0.900806 0 1.37772 0 1.875L0 16.875C0 17.3723 0.197544 17.8492 0.549175 18.2008C0.900806 18.5525 1.37772 18.75 1.875 18.75H9.53063C9.63938 18.105 9.8025 17.4787 10.0144 16.875H5.625C5.625 15.8804 5.22991 14.9266 4.52665 14.2233C3.82339 13.5201 2.86956 13.125 1.875 13.125L1.875 5.625C2.86956 5.625 3.82339 5.22991 4.52665 4.52665C5.22991 3.82339 5.625 2.86956 5.625 1.875L24.375 1.875C24.375 2.86956 24.7701 3.82339 25.4734 4.52665C26.1766 5.22991 27.1304 5.625 28.125 5.625V12.24C28.8375 12.8775 29.4694 13.605 30 14.4038L30 1.875C30 1.37772 29.8025 0.900806 29.4508 0.549175C29.0992 0.197544 28.6223 0 28.125 0L1.875 0Z"
                  fill="#EEFDFF"
                />
                <path
                  d="M18.7463 9.53062L18.75 9.375C18.7496 8.72923 18.5825 8.09451 18.2648 7.5323C17.9471 6.97009 17.4896 6.49945 16.9366 6.16597C16.3836 5.83248 15.7538 5.64745 15.1083 5.62879C14.4628 5.61014 13.8235 5.75849 13.2521 6.05947C12.6808 6.36046 12.1969 6.80389 11.8472 7.34681C11.4976 7.88973 11.2941 8.51374 11.2564 9.1584C11.2187 9.80307 11.3481 10.4465 11.6322 11.0265C11.9162 11.6065 12.3451 12.1032 12.8775 12.4687C14.497 10.9261 16.5408 9.90294 18.7463 9.53062V9.53062Z"
                  fill="#EEFDFF"
                />
              </g>
              <defs>
                <clipPath id="clip0_98_31">
                  <rect width="30" height="30" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </a>
        </li>
        <li>
          <a href="#" @click.prevent="memberin"
            ><svg
              v-if="Certification == false"
              width="30"
              height="30"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_98_26)">
                <path
                  d="M11.25 15C12.7418 15 14.1726 14.4074 15.2275 13.3525C16.2824 12.2976 16.875 10.8668 16.875 9.375C16.875 7.88316 16.2824 6.45242 15.2275 5.39752C14.1726 4.34263 12.7418 3.75 11.25 3.75C9.75816 3.75 8.32742 4.34263 7.27252 5.39752C6.21763 6.45242 5.625 7.88316 5.625 9.375C5.625 10.8668 6.21763 12.2976 7.27252 13.3525C8.32742 14.4074 9.75816 15 11.25 15V15ZM15 9.375C15 10.3696 14.6049 11.3234 13.9017 12.0267C13.1984 12.7299 12.2446 13.125 11.25 13.125C10.2554 13.125 9.30161 12.7299 8.59835 12.0267C7.89509 11.3234 7.5 10.3696 7.5 9.375C7.5 8.38044 7.89509 7.42661 8.59835 6.72335C9.30161 6.02009 10.2554 5.625 11.25 5.625C12.2446 5.625 13.1984 6.02009 13.9017 6.72335C14.6049 7.42661 15 8.38044 15 9.375V9.375ZM22.5 24.375C22.5 26.25 20.625 26.25 20.625 26.25L1.875 26.25C1.875 26.25 0 26.25 0 24.375C0 22.5 1.875 16.875 11.25 16.875C20.625 16.875 22.5 22.5 22.5 24.375ZM20.625 24.3675C20.6231 23.9063 20.3363 22.5187 19.065 21.2475C17.8425 20.025 15.5419 18.75 11.25 18.75C6.95625 18.75 4.6575 20.025 3.435 21.2475C2.16375 22.5187 1.87875 23.9063 1.875 24.3675L20.625 24.3675Z"
                  fill="#EEFDFF"
                />
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M22.7737 9.64875C22.8608 9.56144 22.9643 9.49217 23.0782 9.44491C23.1921 9.39765 23.3142 9.37332 23.4375 9.37332C23.5608 9.37332 23.6829 9.39765 23.7968 9.44491C23.9107 9.49217 24.0141 9.56144 24.1012 9.64875L26.25 11.7994L28.3987 9.64875C28.5748 9.47271 28.8135 9.37381 29.0625 9.37381C29.3114 9.37381 29.5502 9.47271 29.7262 9.64875C29.9023 9.82478 30.0012 10.0635 30.0012 10.3125C30.0012 10.5615 29.9023 10.8002 29.7262 10.9762L27.5756 13.125L29.7262 15.2737C29.9023 15.4498 30.0012 15.6885 30.0012 15.9375C30.0012 16.1865 29.9023 16.4252 29.7262 16.6012C29.5502 16.7773 29.3114 16.8762 29.0625 16.8762C28.8135 16.8762 28.5748 16.7773 28.3987 16.6012L26.25 14.4506L24.1012 16.6012C23.9252 16.7773 23.6864 16.8762 23.4375 16.8762C23.1885 16.8762 22.9498 16.7773 22.7737 16.6012C22.5977 16.4252 22.4988 16.1865 22.4988 15.9375C22.4988 15.6885 22.5977 15.4498 22.7737 15.2737L24.9243 13.125L22.7737 10.9762C22.6864 10.8892 22.6171 10.7857 22.5699 10.6718C22.5226 10.5579 22.4983 10.4358 22.4983 10.3125C22.4983 10.1892 22.5226 10.0671 22.5699 9.95318C22.6171 9.83929 22.6864 9.73583 22.7737 9.64875V9.64875Z"
                  fill="#EEFDFF"
                />
              </g>
              <defs>
                <clipPath id="clip0_98_26">
                  <rect width="30" height="30" fill="white" />
                </clipPath>
              </defs>
            </svg>
            <svg
              v-else
              xmlns="http://www.w3.org/2000/svg"
              width="30"
              height="30"
              fill="currentColor"
              class="bi bi-person-check"
              viewBox="0 0 16 16"
            >
              <path
                d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"
                fill="#EEFDFF"
              />
              <path
                fill-rule="evenodd"
                d="M15.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L12.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0z"
                fill="#EEFDFF"
              />
            </svg>
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <div
    class="medianav"
    :class="{ opennav: opennav, endmedianav: endnav }"
    id="manav"
  >
    <div class="opennavrigth">
      <button type="button" @click="ensdnav">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="30"
          fill="currentColor"
          class="bi bi-x-lg"
          viewBox="0 0 16 16"
        >
          <path
            d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"
          />
        </svg>
      </button>
    </div>
    <div class="opennavleft">
      <ul class="navbar-nav">
        <li
          class="nav-item"
          :class="{ n1: blu == 1 }"
          @click="
            blu = 1;
            remov();
            ensdnav();
          "
        >
          <a class="nav-link active" aria-current="page" href="#">首頁</a>
        </li>
        <li
          class="nav-item n2"
          :class="{ n1: blu == 2 }"
          @click="
            blu = 2;
            remov();
            ensdnav();
          "
        >
          <router-link class="nav-link" to="/seafishing">海釣行程</router-link>
        </li>
        <li
          class="nav-item n3"
          :class="{ n1: blu == 3 }"
          @click="
            blu = 3;
            remov();
            ensdnav();
          "
        >
          <router-link class="nav-link" to="/CommoDity">海釣商品</router-link>
        </li>
        <li
          class="nav-item n4"
          :class="{ n1: blu == 4 }"
          @click="
            blu = 4;
            remov();
            ensdnav();
          "
        >
          <a class="nav-link" href="#">常見問題</a>
        </li>
      </ul>
      <ul class="userico">
        <li>
          <a
            href="#"
            @click.prevent="
              mod1show();
              ensdnav();
            "
            ><svg
              width="35"
              height="35"
              viewBox="0 0 29 29"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0 1.8125C0 1.56386 0.098772 1.3254 0.274587 1.14959C0.450403 0.973772 0.68886 0.875 0.9375 0.875L3.75 0.875C3.95912 0.875058 4.16222 0.945033 4.327 1.0738C4.49177 1.20256 4.60877 1.38272 4.65937 1.58562L5.41875 4.625L27.1875 4.625C27.3261 4.62508 27.4631 4.65592 27.5883 4.71528C27.7136 4.77465 27.8242 4.86107 27.9121 4.96831C28 5.07555 28.063 5.20095 28.0965 5.33548C28.1301 5.47 28.1334 5.61029 28.1062 5.74625L26.2312 15.1212C26.1902 15.3257 26.0822 15.5106 25.9243 15.6468C25.7664 15.783 25.5676 15.8626 25.3594 15.8731L7.74 16.7581L8.27812 19.625L24.375 19.625C24.6236 19.625 24.8621 19.7238 25.0379 19.8996C25.2137 20.0754 25.3125 20.3139 25.3125 20.5625C25.3125 20.8111 25.2137 21.0496 25.0379 21.2254C24.8621 21.4012 24.6236 21.5 24.375 21.5L7.5 21.5C7.28144 21.4998 7.06981 21.4232 6.90171 21.2836C6.7336 21.1439 6.61959 20.9498 6.57938 20.735L3.76875 5.76313L3.01875 2.75L0.9375 2.75C0.68886 2.75 0.450403 2.65123 0.274587 2.47541C0.098772 2.2996 0 2.06114 0 1.8125ZM5.81625 6.5L7.39125 14.8981L24.5363 14.0375L26.0438 6.5L5.81625 6.5ZM9.375 21.5C8.38044 21.5 7.42661 21.8951 6.72335 22.5984C6.02009 23.3016 5.625 24.2554 5.625 25.25C5.625 26.2446 6.02009 27.1984 6.72335 27.9016C7.42661 28.6049 8.38044 29 9.375 29C10.3696 29 11.3234 28.6049 12.0267 27.9016C12.7299 27.1984 13.125 26.2446 13.125 25.25C13.125 24.2554 12.7299 23.3016 12.0267 22.5984C11.3234 21.8951 10.3696 21.5 9.375 21.5ZM22.5 21.5C21.5054 21.5 20.5516 21.8951 19.8484 22.5984C19.1451 23.3016 18.75 24.2554 18.75 25.25C18.75 26.2446 19.1451 27.1984 19.8484 27.9016C20.5516 28.6049 21.5054 29 22.5 29C23.4946 29 24.4484 28.6049 25.1516 27.9016C25.8549 27.1984 26.25 26.2446 26.25 25.25C26.25 24.2554 25.8549 23.3016 25.1516 22.5984C24.4484 21.8951 23.4946 21.5 22.5 21.5ZM9.375 23.375C9.87228 23.375 10.3492 23.5725 10.7008 23.9242C11.0525 24.2758 11.25 24.7527 11.25 25.25C11.25 25.7473 11.0525 26.2242 10.7008 26.5758C10.3492 26.9275 9.87228 27.125 9.375 27.125C8.87772 27.125 8.40081 26.9275 8.04918 26.5758C7.69754 26.2242 7.5 25.7473 7.5 25.25C7.5 24.7527 7.69754 24.2758 8.04918 23.9242C8.40081 23.5725 8.87772 23.375 9.375 23.375ZM22.5 23.375C22.9973 23.375 23.4742 23.5725 23.8258 23.9242C24.1775 24.2758 24.375 24.7527 24.375 25.25C24.375 25.7473 24.1775 26.2242 23.8258 26.5758C23.4742 26.9275 22.9973 27.125 22.5 27.125C22.0027 27.125 21.5258 26.9275 21.1742 26.5758C20.8225 26.2242 20.625 25.7473 20.625 25.25C20.625 24.7527 20.8225 24.2758 21.1742 23.9242C21.5258 23.5725 22.0027 23.375 22.5 23.375Z"
                fill="#EEFDFF"
              /></svg
          ></a>
        </li>
        <li>
          <a href="#" @click.prevent="record"
            ><svg
              width="35"
              height="35"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_98_24)">
                <path
                  d="M14 3.21429C14 2.93013 14.1054 2.6576 14.2929 2.45667C14.4804 2.25574 14.7348 2.14286 15 2.14286L29 2.14286C29.2652 2.14286 29.5196 2.25574 29.7071 2.45667C29.8946 2.6576 30 2.93013 30 3.21429V5.35714C30 5.6413 29.8946 5.91383 29.7071 6.11476C29.5196 6.31569 29.2652 6.42857 29 6.42857L15 6.42857C14.7348 6.42857 14.4804 6.31569 14.2929 6.11476C14.1054 5.91383 14 5.6413 14 5.35714V3.21429ZM4 0C2.93913 0 1.92172 0.451529 1.17157 1.25526C0.421427 2.05898 0 3.14907 0 4.28571L0 8.57143C0 9.70807 0.421427 10.7982 1.17157 11.6019C1.92172 12.4056 2.93913 12.8571 4 12.8571L8 12.8571C9.06087 12.8571 10.0783 12.4056 10.8284 11.6019C11.5786 10.7982 12 9.70807 12 8.57143L12 4.28571C12 3.14907 11.5786 2.05898 10.8284 1.25526C10.0783 0.451529 9.06087 0 8 0L4 0ZM4 17.1429C2.93913 17.1429 1.92172 17.5944 1.17157 18.3981C0.421427 19.2018 0 20.2919 0 21.4286L0 25.7143C0 26.8509 0.421427 27.941 1.17157 28.7447C1.92172 29.5485 2.93913 30 4 30H8C9.06087 30 10.0783 29.5485 10.8284 28.7447C11.5786 27.941 12 26.8509 12 25.7143V21.4286C12 20.2919 11.5786 19.2018 10.8284 18.3981C10.0783 17.5944 9.06087 17.1429 8 17.1429H4ZM5.708 9.33C5.61511 9.42978 5.50476 9.50894 5.38327 9.56296C5.26178 9.61697 5.13153 9.64477 5 9.64477C4.86847 9.64477 4.73822 9.61697 4.61673 9.56296C4.49524 9.50894 4.38489 9.42978 4.292 9.33L2.292 7.18714C2.19902 7.08753 2.12527 6.96926 2.07495 6.83911C2.02464 6.70895 1.99874 6.56945 1.99874 6.42857C1.99874 6.28769 2.02464 6.14819 2.07495 6.01804C2.12527 5.88788 2.19902 5.76962 2.292 5.67C2.38498 5.57038 2.49535 5.49136 2.61683 5.43745C2.73831 5.38354 2.86851 5.35579 3 5.35579C3.13149 5.35579 3.26169 5.38354 3.38317 5.43745C3.50465 5.49136 3.61502 5.57038 3.708 5.67L5 7.05643L8.292 3.52714C8.38498 3.42753 8.49535 3.34851 8.61683 3.29459C8.73831 3.24068 8.86851 3.21293 9 3.21293C9.13149 3.21293 9.26169 3.24068 9.38317 3.29459C9.50465 3.34851 9.61502 3.42753 9.708 3.52714C9.80098 3.62676 9.87473 3.74502 9.92505 3.87518C9.97537 4.00533 10.0013 4.14483 10.0013 4.28571C10.0013 4.42659 9.97537 4.56609 9.92505 4.69625C9.87473 4.82641 9.80098 4.94467 9.708 5.04429L5.708 9.33ZM5.708 26.4729C5.61511 26.5726 5.50476 26.6518 5.38327 26.7058C5.26178 26.7598 5.13153 26.7876 5 26.7876C4.86847 26.7876 4.73822 26.7598 4.61673 26.7058C4.49524 26.6518 4.38489 26.5726 4.292 26.4729L2.292 24.33C2.10423 24.1288 1.99874 23.8559 1.99874 23.5714C1.99874 23.2869 2.10423 23.014 2.292 22.8129C2.47977 22.6117 2.73445 22.4986 3 22.4986C3.26555 22.4986 3.52023 22.6117 3.708 22.8129L5 24.1993L8.292 20.67C8.47977 20.4688 8.73445 20.3558 9 20.3558C9.26555 20.3558 9.52023 20.4688 9.708 20.67C9.89577 20.8712 10.0013 21.1441 10.0013 21.4286C10.0013 21.7131 9.89577 21.986 9.708 22.1871L5.708 26.4729ZM14 20.3571C14 20.073 14.1054 19.8005 14.2929 19.5995C14.4804 19.3986 14.7348 19.2857 15 19.2857H29C29.2652 19.2857 29.5196 19.3986 29.7071 19.5995C29.8946 19.8005 30 20.073 30 20.3571V22.5C30 22.7842 29.8946 23.0567 29.7071 23.2576C29.5196 23.4585 29.2652 23.5714 29 23.5714H15C14.7348 23.5714 14.4804 23.4585 14.2929 23.2576C14.1054 23.0567 14 22.7842 14 22.5V20.3571ZM14 9.64286C14 9.3587 14.1054 9.08617 14.2929 8.88524C14.4804 8.68431 14.7348 8.57143 15 8.57143L25 8.57143C25.2652 8.57143 25.5196 8.68431 25.7071 8.88524C25.8946 9.08617 26 9.3587 26 9.64286C26 9.92702 25.8946 10.1995 25.7071 10.4005C25.5196 10.6014 25.2652 10.7143 25 10.7143L15 10.7143C14.7348 10.7143 14.4804 10.6014 14.2929 10.4005C14.1054 10.1995 14 9.92702 14 9.64286ZM14 26.7857C14 26.5016 14.1054 26.229 14.2929 26.0281C14.4804 25.8272 14.7348 25.7143 15 25.7143H25C25.2652 25.7143 25.5196 25.8272 25.7071 26.0281C25.8946 26.229 26 26.5016 26 26.7857C26 27.0699 25.8946 27.3424 25.7071 27.5433C25.5196 27.7443 25.2652 27.8571 25 27.8571H15C14.7348 27.8571 14.4804 27.7443 14.2929 27.5433C14.1054 27.3424 14 27.0699 14 26.7857Z"
                  fill="#EEFDFF"
                />
              </g>
              <defs>
                <clipPath id="clip0_98_24">
                  <rect width="30" height="30" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </a>
        </li>
        <li>
          <a href="#" @click.prevent="Discount"
            ><svg
              width="35"
              height="35"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_98_31)">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M20.625 28.125C22.6141 28.125 24.5218 27.3348 25.9283 25.9283C27.3348 24.5218 28.125 22.6141 28.125 20.625C28.125 18.6359 27.3348 16.7282 25.9283 15.3217C24.5218 13.9152 22.6141 13.125 20.625 13.125C18.6359 13.125 16.7282 13.9152 15.3217 15.3217C13.9152 16.7282 13.125 18.6359 13.125 20.625C13.125 22.6141 13.9152 24.5218 15.3217 25.9283C16.7282 27.3348 18.6359 28.125 20.625 28.125V28.125ZM30 20.625C30 23.1114 29.0123 25.496 27.2541 27.2541C25.496 29.0123 23.1114 30 20.625 30C18.1386 30 15.754 29.0123 13.9959 27.2541C12.2377 25.496 11.25 23.1114 11.25 20.625C11.25 18.1386 12.2377 15.754 13.9959 13.9959C15.754 12.2377 18.1386 11.25 20.625 11.25C23.1114 11.25 25.496 12.2377 27.2541 13.9959C29.0123 15.754 30 18.1386 30 20.625V20.625Z"
                  fill="#EEFDFF"
                />
                <path
                  d="M17.6962 22.395C17.7843 23.5125 18.6675 24.3825 20.2518 24.4875V25.3125H20.955V24.4819C22.5956 24.3675 23.5537 23.49 23.5537 22.2188C23.5537 21.06 22.8225 20.4638 21.51 20.1562L20.955 20.025V17.775C21.66 17.8556 22.1062 18.24 22.2131 18.7725H23.4468C23.3587 17.6944 22.4343 16.8525 20.955 16.7606V15.9375H20.2518V16.7812C18.8512 16.9181 17.8987 17.76 17.8987 18.9525C17.8987 20.0062 18.6075 20.6775 19.7868 20.9512L20.2518 21.0656V23.4506C19.5318 23.3419 19.0537 22.9444 18.9468 22.395H17.6943H17.6962ZM20.2462 19.8563C19.5543 19.6969 19.1793 19.3687 19.1793 18.8775C19.1793 18.3262 19.5843 17.9137 20.2518 17.7937V19.8563H20.2462V19.8563ZM21.0562 21.255C21.8981 21.45 22.2843 21.765 22.2843 22.3219C22.2843 22.9575 21.8025 23.3925 20.955 23.4731V21.2325L21.0562 21.255V21.255Z"
                  fill="#EEFDFF"
                />
                <path
                  d="M1.875 0C1.37772 0 0.900806 0.197544 0.549175 0.549175C0.197544 0.900806 0 1.37772 0 1.875L0 16.875C0 17.3723 0.197544 17.8492 0.549175 18.2008C0.900806 18.5525 1.37772 18.75 1.875 18.75H9.53063C9.63938 18.105 9.8025 17.4787 10.0144 16.875H5.625C5.625 15.8804 5.22991 14.9266 4.52665 14.2233C3.82339 13.5201 2.86956 13.125 1.875 13.125L1.875 5.625C2.86956 5.625 3.82339 5.22991 4.52665 4.52665C5.22991 3.82339 5.625 2.86956 5.625 1.875L24.375 1.875C24.375 2.86956 24.7701 3.82339 25.4734 4.52665C26.1766 5.22991 27.1304 5.625 28.125 5.625V12.24C28.8375 12.8775 29.4694 13.605 30 14.4038L30 1.875C30 1.37772 29.8025 0.900806 29.4508 0.549175C29.0992 0.197544 28.6223 0 28.125 0L1.875 0Z"
                  fill="#EEFDFF"
                />
                <path
                  d="M18.7463 9.53062L18.75 9.375C18.7496 8.72923 18.5825 8.09451 18.2648 7.5323C17.9471 6.97009 17.4896 6.49945 16.9366 6.16597C16.3836 5.83248 15.7538 5.64745 15.1083 5.62879C14.4628 5.61014 13.8235 5.75849 13.2521 6.05947C12.6808 6.36046 12.1969 6.80389 11.8472 7.34681C11.4976 7.88973 11.2941 8.51374 11.2564 9.1584C11.2187 9.80307 11.3481 10.4465 11.6322 11.0265C11.9162 11.6065 12.3451 12.1032 12.8775 12.4687C14.497 10.9261 16.5408 9.90294 18.7463 9.53062V9.53062Z"
                  fill="#EEFDFF"
                />
              </g>
              <defs>
                <clipPath id="clip0_98_31">
                  <rect width="30" height="30" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </a>
        </li>
        <li>
          <a href="#" @click.prevent="memberin"
            ><svg
              v-if="Certification == false"
              width="35"
              height="35"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_98_26)">
                <path
                  d="M11.25 15C12.7418 15 14.1726 14.4074 15.2275 13.3525C16.2824 12.2976 16.875 10.8668 16.875 9.375C16.875 7.88316 16.2824 6.45242 15.2275 5.39752C14.1726 4.34263 12.7418 3.75 11.25 3.75C9.75816 3.75 8.32742 4.34263 7.27252 5.39752C6.21763 6.45242 5.625 7.88316 5.625 9.375C5.625 10.8668 6.21763 12.2976 7.27252 13.3525C8.32742 14.4074 9.75816 15 11.25 15V15ZM15 9.375C15 10.3696 14.6049 11.3234 13.9017 12.0267C13.1984 12.7299 12.2446 13.125 11.25 13.125C10.2554 13.125 9.30161 12.7299 8.59835 12.0267C7.89509 11.3234 7.5 10.3696 7.5 9.375C7.5 8.38044 7.89509 7.42661 8.59835 6.72335C9.30161 6.02009 10.2554 5.625 11.25 5.625C12.2446 5.625 13.1984 6.02009 13.9017 6.72335C14.6049 7.42661 15 8.38044 15 9.375V9.375ZM22.5 24.375C22.5 26.25 20.625 26.25 20.625 26.25L1.875 26.25C1.875 26.25 0 26.25 0 24.375C0 22.5 1.875 16.875 11.25 16.875C20.625 16.875 22.5 22.5 22.5 24.375ZM20.625 24.3675C20.6231 23.9063 20.3363 22.5187 19.065 21.2475C17.8425 20.025 15.5419 18.75 11.25 18.75C6.95625 18.75 4.6575 20.025 3.435 21.2475C2.16375 22.5187 1.87875 23.9063 1.875 24.3675L20.625 24.3675Z"
                  fill="#EEFDFF"
                />
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M22.7737 9.64875C22.8608 9.56144 22.9643 9.49217 23.0782 9.44491C23.1921 9.39765 23.3142 9.37332 23.4375 9.37332C23.5608 9.37332 23.6829 9.39765 23.7968 9.44491C23.9107 9.49217 24.0141 9.56144 24.1012 9.64875L26.25 11.7994L28.3987 9.64875C28.5748 9.47271 28.8135 9.37381 29.0625 9.37381C29.3114 9.37381 29.5502 9.47271 29.7262 9.64875C29.9023 9.82478 30.0012 10.0635 30.0012 10.3125C30.0012 10.5615 29.9023 10.8002 29.7262 10.9762L27.5756 13.125L29.7262 15.2737C29.9023 15.4498 30.0012 15.6885 30.0012 15.9375C30.0012 16.1865 29.9023 16.4252 29.7262 16.6012C29.5502 16.7773 29.3114 16.8762 29.0625 16.8762C28.8135 16.8762 28.5748 16.7773 28.3987 16.6012L26.25 14.4506L24.1012 16.6012C23.9252 16.7773 23.6864 16.8762 23.4375 16.8762C23.1885 16.8762 22.9498 16.7773 22.7737 16.6012C22.5977 16.4252 22.4988 16.1865 22.4988 15.9375C22.4988 15.6885 22.5977 15.4498 22.7737 15.2737L24.9243 13.125L22.7737 10.9762C22.6864 10.8892 22.6171 10.7857 22.5699 10.6718C22.5226 10.5579 22.4983 10.4358 22.4983 10.3125C22.4983 10.1892 22.5226 10.0671 22.5699 9.95318C22.6171 9.83929 22.6864 9.73583 22.7737 9.64875V9.64875Z"
                  fill="#EEFDFF"
                />
              </g>
              <defs>
                <clipPath id="clip0_98_26">
                  <rect width="30" height="30" fill="white" />
                </clipPath>
              </defs>
            </svg>
            <svg
              v-else
              xmlns="http://www.w3.org/2000/svg"
              width="35"
              height="35"
              fill="currentColor"
              class="bi bi-person-check"
              viewBox="0 0 16 16"
            >
              <path
                d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"
                fill="#EEFDFF"
              />
              <path
                fill-rule="evenodd"
                d="M15.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L12.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0z"
                fill="#EEFDFF"
              />
            </svg>
          </a>
        </li>
      </ul>
    </div>
  </div>
</template>
<script>
import modal from "../../node_modules/bootstrap/js/dist/modal";
import NavLogin from "../components/NavLogin.vue";
import Record from "../components/RecordOrder.vue";
import discount from "../components/DiscOunt.vue";
export default {
  inject: ["mitter"],
  data() {
    return {
      login: false,
      sollY: 0,
      variety: 200,
      mod1: {},
      mod2: {},
      mod3: {},
      NavLogin: {},
      Certification: false,
      confirm: "",
      newuser: {},
      blu: 1,
      order: {},
      newth: [],
      newcoupon: {},
      usecoupon: {},
      Shoppingtoto: 0,
      anim: false,
      opennav: false,
      endnav: false,
      navobj: {},
    };
  },
  components: {
    NavLogin,
    Record,
    discount,
  },
  mounted() {
    let nav = document.querySelector(".navbar");
    let con = document.querySelector(".container-fluid");
    window.addEventListener(
      "scroll",
      throttle(() => {
        this.sollY = window.scrollY;
        if (this.variety < this.sollY) {
          nav.classList.add("newnav");
          con.classList.add("newcontainer-fluid");
        } else {
          nav.classList.remove("newnav");
          con.classList.remove("newcontainer-fluid");
        }
      })
    );
    function throttle(fn, time = 100) {
      let canRun = true;
      return function (...args) {
        if (!canRun) return;
        canRun = false;
        setTimeout(() => {
          fn.apply(this, args);
          canRun = true;
        }, time);
      };
    }
    this.variety = 200;
    this.mitter.on("change", (e) => {
      this.variety = e;
      nav.classList.add("manage");
    });
    this.mod1 = new modal(this.$refs.mod1);
    this.check();
    this.mitter.on("journey", (e) => {
      this.newuser.journey = e;
      console.log(this.newuser);
    });
    this.mitter.on("enter", () => {
      this.mitter.emit("return", this.newuser);
    });
    this.mitter.on("tuon",()=>{
      this.memberin();
    })
    this.mitter.on("velo", () => {
      this.mitter.emit("returnvelo",this.Certification);
    });
    this.mitter.on("route", (e) => {
      this.order = e;
    });
    this.mitter.on("commodityorder", () => {
      this.mitter.emit("returncommodityorder", this.order);
    });
    this.mitter.on("send", (e) => {
      this.order = e;
    });
    this.mitter.on("ConfirmOrder", () => {
      this.mitter.emit("returnConfirmOrder", this.order);
    });
    this.mitter.on("GenOrd", () => {
      this.mitter.emit("returnGenOrd", this.newuser);
    });
    this.mitter.on("Consumm", () => {
      this.mitter.emit("returnConsumm", this.order);
    });
    this.mitter.on("again", (e) => {
      this.newcoupon = e;
      this.Inquire();
    });
    this.mitter.on("wwuse", (e) => {
      this.usecoupon = e;
    });
    this.mitter.on("finallyended", () => {
      this.blu = 1;
      this.remov();
    });
    this.mitter.on("addShopping", (e) => {
      if (this.newuser.shoppingcart == undefined) {
        this.newuser.shoppingcart = [];
        this.newuser.shoppingcart.push(e);
      } else {
        if (
          this.newuser.shoppingcart.some((sg) => {
            return sg.id == e.id;
          })
        ) {
          this.newuser.shoppingcart.forEach((ssg) => {
            if (ssg.id == e.id) {
              ssg.people++;
            }
          });
        } else {
          this.newuser.shoppingcart.push(e);
        }
      }
      const asip = `${process.env.VUE_APP_API}api/testrunapi/admin/product/${this.newuser.id}`;
      this.$http.put(asip, { data: this.newuser }).then(() => {
        const apis = `${process.env.VUE_APP_API}api/testrunapi/admin/products?page=1`;
        this.$http.get(apis).then((e) => {
          this.newuser = e.data.products[0];
          this.mitter.emit("test", {
            style: "rgb(0, 187, 93)",
            success: "以新增至購物車",
          });
        });
      });
    });
    this.mitter.on("Backstage", (ss) => {
      const api = `${process.env.VUE_APP_API}admin/signin`;
      this.$http
        .post(api, {
          username: "nork1120@gmail.com",
          password: "nork1130",
        })
        .then((e) => {
          const { expired, token, message } = e.data;
          console.log(e, message, "後台讀取");
          document.cookie = `hihi = ${token};expires = ${new Date(expired)}`;
          const apii = `${process.env.VUE_APP_API}api/user/check`;
          this.$http.defaults.headers.common["Authorization"] = token;
          this.$http.post(apii).then(() => {
            const ap = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/all`;
            this.$http.get(ap).then((e) => {
              this.newth = Object.values(e.data.products);
              this.newth = this.newth.filter((e) => {
                return e.category == "優惠劵訂單";
              });
              if (this.newth[0].OrDer == undefined) {
                this.newth[0].OrDer = [];
              }
              if (this.newth[0].coupon == undefined) {
                this.newth[0].coupon = [];
              }
              if (this.usecoupon != "") {
                let arr = [];
                this.newth[0].coupon.forEach((e) => {
                  if (e.couponID != this.usecoupon.couponID) {
                    arr.push(e);
                  }
                });
                this.newth[0].coupon = JSON.parse(JSON.stringify(arr));
              }
              if (this.newcoupon != "") {
                this.newth[0].coupon.push(this.newcoupon);
              }
              this.newth[0].OrDer.push(ss);
              console.log(this.newth, 123123123131555);
              const apiii = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.newth[0].id}`;
              this.$http.put(apiii, { data: this.newth[0] }).then(() => {
                const apiiii = `${process.env.VUE_APP_API}logout`;
                this.$http.post(apiiii).then(() => {});
              });
            });
          });
        });
    });

  },
  methods: {
    mod1show() {
      if (this.Certification == false) {
        this.memberin();
      } else {
        this.Shoppingtoto = 0;
        if (this.newuser.shoppingcart != undefined) {
          this.newuser.shoppingcart.forEach((e) => {
            this.Shoppingtoto += e.price * e.people;
          });
        }
        this.mod1.show();
      }
    },
    memberin() {
      if (this.Certification == false) {
        this.$refs.NavLogin.show();
      } else {
        this.$refs.NavLogin.show5();
        if (this.confirm == 1) {
          this.$refs.NavLogin.user1 = this.newuser;
          // const api = `${process.env.VUE_APP_API}api/testrunapi/admin/product/-NATXyydMdrDyBqmWs0Y`;
          // this.$http.delete(api).then((e) => {
          //   console.log(e);
          // });
          console.log(this.newuser.shoppingcart);
        }
      }
    },
    logme(e) {
      this.Certification = e;
    },
    Inquire() {
      const api = `${process.env.VUE_APP_API}api/testrunapi/admin/products?page=1`;
      this.$http.get(api).then((e) => {
        this.confirm = e.data.products.length;
        this.newuser = e.data.products[0];
        console.log(this.newuser);
      });
    },
    check() {
      var token = document.cookie.replace(
        /(?:(?:^|.*;\s*)member\s*=\s*([^;]*).*$)|^.*$/,
        "$1"
      );
      const api = `${process.env.VUE_APP_API}api/user/check`;
      this.$http.defaults.headers.common["Authorization"] = token;
      this.$http.post(api).then((e) => {
        if (e.data.success == true) {
          console.log("以登入");
          this.Certification = true;
          this.Inquire();
        }
        if (e.data.success == false) {
          console.log("未登入");
        }
      });
    },
    remov() {
      let nav = document.querySelector(".navbar");
      nav.classList.remove("manage");
      this.variety = 200;
    },
    record() {
      if (this.Certification == false) {
        this.memberin();
      } else {
        this.$refs.Record.show();
        this.$refs.Record.newOr = this.newuser.Order;
      }
    },
    Discount() {
      if (this.Certification == false) {
        this.memberin();
      } else {
        this.$refs.Discount.show();
        this.$refs.Discount.DiscOunt = this.newuser.coupon;
      }
    },
    alltotal() {
      this.Shoppingtoto = 0;
      this.newuser.shoppingcart.forEach((e) => {
        this.Shoppingtoto += e.price * e.people;
      });
    },
    shoppingDelete(nu) {
      this.newuser.shoppingcart.splice(nu, 1);
      console.log(this.newuser.shoppingcart);
      this.Shoppingtoto = 0;
      this.newuser.shoppingcart.forEach((e) => {
        this.Shoppingtoto += e.price * e.people;
      });
      const shoppDelet = `${process.env.VUE_APP_API}api/testrunapi/admin/product/${this.newuser.id}`;
      this.$http.put(shoppDelet, { data: this.newuser }).then(() => {});
    },
    shoppingCart() {
      this.order = this.newuser;
      this.order.orders = [];
      this.order.orders = this.newuser.shoppingcart;
      this.mod1.hide();
      setTimeout(() => {
        this.anim = true;
      }, 200);
      setTimeout(() => {
        this.$router.push("/confirm/checkout");
        setTimeout(() => {
          this.anim = false;
        }, 100);
      }, 1700);
    },
    ensdnav() {
      this.endnav = true;
      setTimeout(() => {
        this.opennav = false;
      }, 490);
    },
  },
};
</script>
<style scoped lang="scss">
.modal {
  .modal-dialog {
    ::-webkit-scrollbar {
      width: 10px;
    }
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 1rem;
    }

    ::-webkit-scrollbar-thumb {
      border-radius: 1rem;
      background: #106de6;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #104391;
    }
    .modal-content {
      height: 95vh;
      border-radius: 1.5rem;
      overflow: hidden;
      .modal-header {
        .modal-title {
          font-size: 1.4rem;
          font-weight: 600;
        }
      }
      .modal-body {
        display: flex;
        justify-content: center;
        .middle {
          width: 85%;
          .modtitl {
            padding: 1rem 0 1rem 0;
            background-color: #feecec;
            h5 {
              font-size: 1.2rem;
              font-weight: 600;
            }
          }
          .modtext {
            border-top: 1px solid #b4b4b4;
            display: flex;
            justify-content: space-between;
            .modleft {
              width: 70%;
              display: flex;
              .img {
                height: 200px;
                width: 30%;
                background-size: cover;
              }
              .modleftext {
                width: 50%;
                p {
                  padding: 0.5rem;
                  font-size: 2rem;
                  color: #d43030;
                  font-weight: 600;
                }
              }
            }
            .modrigth {
              display: flex;
              justify-content: space-between;
              .lele {
                display: flex;
                justify-content: center;
                margin-right: 1rem;
                button {
                  transition: all 0.3s ease;
                  padding: 0.5rem;
                  font-size: 1rem;
                  background-color: #e95c5c;
                  border: none;
                  color: #fff;
                  &:hover {
                    padding: 1rem;
                    font-size: 1.2rem;
                    border-radius: 0.5rem 0 0 0.5rem;
                  }
                }
              }
              .riri {
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                .quantity {
                  padding: 1rem;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  p {
                    font-size: 1.2rem;
                    font-weight: 600;
                    margin-right: 0.5rem;
                  }
                  input[type="number"]::-webkit-outer-spin-button,
                  input[type="number"]::-webkit-inner-spin-button {
                    -webkit-appearance: none;
                    margin: 0;
                  }
                  input {
                    width: 3rem;
                    color: #c80606;
                  }
                }
                .price {
                  display: flex;
                  justify-content: center;
                  margin-bottom: 1.4rem;
                  h5 {
                    color: #1aaf67;
                    font-weight: 600;
                    font-size: 1.2rem;
                  }
                  p {
                    font-size: 1.2rem;
                    font-weight: 600;
                  }
                }
              }
            }
          }
        }
      }
      .modal-footer {
        display: flex;
        flex-direction: column;
        justify-content: center;
        width: 100%;
        .total {
          display: flex;
          justify-content: space-between;
          width: 80%;
          .totaleft {
            width: 50%;
            p {
              font-size: 2rem;
              color: #f54242;
              font-weight: 600;
            }
          }
          .totarigth {
            width: 50%;
            display: flex;
            flex-direction: row-reverse;
            h5 {
              font-size: 2rem;
              font-weight: 600;
            }
            p {
              color: #1aaf67;
              font-size: 2rem;
              font-weight: 600;
            }
          }
        }
        .totalbottom {
          display: flex;
          flex-direction: row-reverse;
          width: 80%;
          margin: 1rem 0 1rem 0;
          .btn-primary {
            width: 15%;
            padding: 0.2rem 1.5rem 0.2rem 1.5rem;
            font-size: 1.4rem;
            font-weight: 600;
            border: none;
            background-color: #e95c5c;
            margin-right: 0.5rem;
            position: relative;
            overflow: hidden;
            transition: all 0.2s ease-in-out;
            &:before {
              content: "";
              background-color: rgba(255, 255, 255, 0.5);
              height: 100%;
              width: 3em;
              display: block;
              position: absolute;
              top: 0;
              left: -4.5em;
              transform: skewX(-45deg) translateX(0);
              transition: none;
            }
            &:hover {
              background-color: #e53e3e;
              color: #fff;

              &:before {
                transform: skewX(-45deg) translateX(16.5em);
                transition: all 0.5s ease-in-out;
              }
            }
          }
          .btn-secondary {
            padding: 0.2rem 1.5rem 0.2rem 1.5rem;
            font-weight: 600;
            font-size: 1.4rem;
            border: none;
          }
        }
      }
    }
  }
}
.manage {
  .navbar-nav {
    font-size: 1.3rem !important;
    font-weight: 600;
    .nav-item {
      margin-left: 2.3rem;
    }
    a {
      color: #384753 !important;
    }
    .n1 {
      a {
        color: #2a73b8 !important;
      }
    }
  }
  .member {
    background-color: rgba(255, 255, 255, 0.904) !important;
    box-shadow: 0 0 3px 5px rgba(255, 255, 255, 0.904);
    ul {
      li {
        a {
          svg {
            path {
              fill: black;
            }
          }
        }
      }
    }
  }
}
.newnav {
  background-color: rgba(255, 255, 255, 0.904) !important;
  box-shadow: 0 0 3px 5px rgba(255, 255, 255, 0.904);
  .newcontainer-fluid {
    justify-content: space-between;
    .nas {
      margin-left: 1rem;
      .navbar-brand {
        img {
          width: 65% !important;
        }
      }
    }
    .collapse {
      flex-direction: row-reverse;
      margin-right: 2rem;
      .navbar-nav {
        font-size: 1.3rem !important;
        font-weight: 600;
        .nav-item {
          margin-left: 2.3rem;
        }
        a {
          color: #384753 !important;
        }
        .n1 {
          a {
            color: #2a73b8 !important;
          }
        }
      }
    }
  }
  .member {
    background-color: rgba(255, 255, 255, 0.904) !important;
    box-shadow: 0 0 3px 5px rgba(255, 255, 255, 0.904);
    ul {
      li {
        a {
          svg {
            path {
              fill: black;
            }
          }
        }
      }
    }
  }
}
.navbar {
  width: 100%;
  position: fixed;
  transition: all 0.5s ease-in;
  top: 0;
  backdrop-filter: blur(5px);
  background-color: rgba(255, 255, 255, 0);
  z-index: 2;
  padding: 0 !important;
  .container-fluid {
    justify-content: space-between;
    .go {
      display: none;
      .Transi {
        overflow: hidden;
        background-color: rgb(49, 171, 223);
        background-image: url("../imgoricons/7668b05273a2d60a6083fb0073c39831.gif");
        background-repeat: no-repeat;
        background-position: 50% 50%;
        width: 100vw;
        height: 100vh;
        position: fixed;
        animation: tra 1s linear;
        animation-fill-mode: forwards;
        z-index: 2;
        top: 0;
        .bac {
          width: 15vw;
          height: 30vh;
          position: absolute;
          bottom: 0;
          right: 0;
          z-index: 3;
          .bacc {
            width: 15%;
            height: 120%;
            position: absolute;
            z-index: 3;
            right: 10px;
            background-color: #fff;
            transform: rotate(40deg);
            .baccc {
              width: 100%;
              height: 160%;
              position: absolute;
              z-index: 3;
              right: 100px;
              top: -100px;
              background-color: #fff;
            }
          }
        }
      }
    }
    .gogo {
      display: flex !important;
    }
    .nas {
      margin-left: 1rem;
      .navbar-brand {
        img {
          width: 100%;
          transition: all 0.5s ease-in;
        }
      }
    }
    .collapse {
      flex-direction: row-reverse;
      margin-right: 2rem;
      .navbar-nav {
        transition: all 0.5s ease-in;
        font-size: 1.4rem;
        font-weight: 600;
        .nav-item {
          margin-left: 2.3rem;
        }
        a {
          &:hover {
            transform: scale(1.1);
          }
          transition: all 0.5s ease-in;
          color: #eefdff;
        }
        .n1 {
          a {
            color: #328bdc;
          }
        }
      }
    }
  }
  .member {
    position: absolute;
    bottom: -38px;
    right: 0px;
    width: 15%;
    backdrop-filter: blur(5px);
    transition: all 0.5s ease-in;
    ul {
      display: flex;
      justify-content: space-around;

      li {
        transition: all 0.1s ease-in;

        &:hover {
          transform: scale(1.2);
        }
      }
    }
  }
}
.medianav {
  display: none;
}
@keyframes tra {
  from {
    left: -100vw;
  }
  to {
    left: 0;
  }
}
@keyframes opena {
  from {
    right: -50vw;
  }
  to {
    right: 0;
  }
}
@keyframes endna {
  from {
    right: 0;
  }
  to {
    right: -50vw;
  }
}
@media screen and (max-width: 720px) {
  .modal {
    .modal-dialog {
      .modal-content {
        .modal-body {
          .middle {
            width: 100%;
            .modtext {
              flex-direction: column;
              .modleft {
                width: 100%;
                flex-direction: column;
                align-items: center;
                .img {
                  width: 70%;
                }
                .modleftext {
                  width: 100%;
                  p {
                    text-align: center;
                  }
                }
              }
              .modrigth {
                flex-direction: column;
                .lele {
                  margin-right: 0;
                  button {
                    width: 100%;
                  }
                }
                .riri {
                  flex-direction: row;
                  align-items: center;
                  .price {
                    padding: 1rem;
                    margin-bottom: 0;
                  }
                }
              }
            }
          }
        }
        .modal-footer {
          .totalbottom {
            .btn-primary {
              width: auto;
            }
          }
        }
      }
    }
  }
  .navbar {
    .container-fluid {
      .nas {
        width: 100px;
      }
    }
  }
  .member {
    display: none;
  }
  .medianav {
    width: 50vw;
    height: 100vh;
    animation: opena 0.5s ease;
    background-color: rgb(67, 125, 192);
    position: fixed;
    right: 0;
    z-index: 6;
    .opennavrigth {
      width: 20%;
      background-color: rgb(55, 102, 156);
      button {
        width: 100%;
        height: 100%;
        border: none;
        background-color: #10449100;
      }
    }
    .opennavleft {
      width: 80%;
      margin-top: 3rem;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      .navbar-nav {
        .nav-item {
          margin-left: 2.3rem;
          margin-top: 2rem;
          a {
            font-size: 1.2rem;
            font-weight: 600;
            color: #eefdff;
          }
        }
        .n1 {
          a {
            color: #34d1b7;
          }
        }
      }
      .userico {
        margin-bottom: 2rem;
        li {
          text-align: center;
          margin-top: 3rem;
        }
      }
    }
  }
  .endmedianav {
    animation: endna 0.5s ease;
  }
  .opennav {
    display: flex;
  }
}
</style>
