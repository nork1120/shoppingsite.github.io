"use strict";(self["webpackChunkcompleted"]=self["webpackChunkcompleted"]||[]).push([[863],{8101:function(t,s,a){a.r(s),a.d(s,{default:function(){return B}});var l=a(3396),e=a(7139);const i=t=>((0,l.dD)("data-v-0ec1c388"),t=t(),(0,l.Cn)(),t),d={class:"modal fade",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"dletmod"},o={class:"modal-dialog"},n={class:"modal-content"},c={class:"modal-header"},h={class:"modal-title",id:"exampleModalLabel"},r=i((()=>(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))),u=i((()=>(0,l._)("div",{class:"modal-body"},"確定刪除的話，按確定鍵",-1))),p={class:"modal-footer"},_=i((()=>(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 取消 ",-1))),b={class:"modal fade picture",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"picture"},m={class:"modal-dialog modal-lg"},g={class:"modal-content"},w=i((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title"},"圖片"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),v={class:"modal-body"},y=["src"],f=i((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 取消 ")],-1))),k={class:"sftbody"},C={class:"newdat"},x=i((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"th1"},"分類"),(0,l._)("th",{class:"th2"},"產品類別"),(0,l._)("th",{class:"th3"},"產品名稱"),(0,l._)("th",{class:"th4"},"敘述"),(0,l._)("th",{class:"th5"},"圖片"),(0,l._)("th",{class:"th6"},"原價"),(0,l._)("th",{class:"th7"},"售價"),(0,l._)("th",{class:"th8"},"數量"),(0,l._)("th",{class:"th9"},"是否啟用"),(0,l._)("th",{class:"th10"},"編輯")])],-1))),z=["onClick"],D={class:"tdtext"},L={key:0},$={key:1},M={class:"tdbut"},W=["onClick"],Z=["onClick"],j={class:"apge"};function A(t,s,a,i,A,H){const I=(0,l.up)("LoadIng"),P=(0,l.up)("toastall"),Y=(0,l.up)("mode"),K=(0,l.up)("paginat");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(I,{active:A.isload},null,8,["active"]),(0,l._)("div",d,[(0,l._)("div",o,[(0,l._)("div",n,[(0,l._)("div",c,[(0,l._)("h5",h," 確定要刪除"+(0,e.zw)(A.dle.title),1),r]),u,(0,l._)("div",p,[_,(0,l._)("button",{type:"button",class:"btn btn-dark",onClick:s[0]||(s[0]=(...t)=>H.dels&&H.dels(...t))},"確定")])])])],512),(0,l._)("div",b,[(0,l._)("div",m,[(0,l._)("div",g,[w,(0,l._)("div",v,[(0,l._)("img",{src:A.pic,alt:""},null,8,y)]),f])])],512),(0,l.Wm)(P),(0,l._)("div",k,[(0,l._)("div",C,[(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:s[1]||(s[1]=(...t)=>H.show&&H.show(...t))}," 新增商品 "),(0,l.Wm)(Y,{ref:"shwomod",onLoadin:H.isl,onCurrdle:H.currdl,onAll:H.datd,ss:A.curr},null,8,["onLoadin","onCurrdle","onAll","ss"])]),(0,l._)("table",null,[x,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(A.thing,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",null,(0,e.zw)(t.category),1),(0,l._)("td",null,(0,e.zw)(t.category2),1),(0,l._)("td",null,(0,e.zw)(t.title),1),(0,l._)("td",null,(0,e.zw)(t.description),1),(0,l._)("td",null,[(0,l._)("button",{class:"btn btn-outline-success",onClick:s=>H.boot(t.imageUrl)}," 商品圖片 ",8,z)]),(0,l._)("td",null,(0,e.zw)(t.origin_price),1),(0,l._)("td",null,(0,e.zw)(t.price),1),(0,l._)("td",null,(0,e.zw)(t.unit),1),(0,l._)("td",D,[1==t.is_enabled?((0,l.wg)(),(0,l.iD)("h1",L,"啟用")):((0,l.wg)(),(0,l.iD)("h2",$,"不啟用"))]),(0,l._)("td",M,[(0,l._)("button",{type:"button",class:"btn btn-outline-primary",onClick:s=>H.curritem(t)}," 編輯 ",8,W),(0,l._)("button",{type:"button",class:"btn btn-outline-danger",onClick:s=>H.del(t)}," 刪除 ",8,Z)])])))),128))])])]),(0,l._)("div",j,[(0,l.Wm)(K,{paa:A.page,onPag:H.getdat},null,8,["paa","onPag"])])],64)}var H=a(765),I=a(7972),P=a.n(I),Y=a(4654),K=a(3936),O={data(){return{thing:[],curr:{},dlemod:{},dle:{},isload:!1,page:{},papa:6,picture:{},pic:""}},inject:["mitter"],components:{mode:H.Z,toastall:Y.Z,paginat:K.Z},methods:{show(){this.$refs.shwomod.modshow()},curritem(t){this.curr=t,this.show()},getdat(t=1){this.isload=!0;const s="https://vue3-course-api.hexschool.io/api/runapi/admin/products/all";this.$http.get(s).then((s=>{console.log(s.data.products),this.thing=Object.values(s.data.products),this.thing=this.thing.filter((t=>"海釣行程"==t.category)),this.isload=!1,this.page.total_pages=Math.ceil(this.thing.length/this.papa),this.page.current_page=t,1==t?(this.thing=this.thing.slice(0,6),this.page.has_next=!0,this.page.has_pre=!1,this.page.total_pages==t&&(this.page.has_next=!1)):(this.thing=this.thing.slice(this.papa*(t-1),this.papa*t),this.page.has_pre=!0,this.page.has_next=!0,this.page.total_pages==t&&(this.page.has_next=!1))}))},del(t){this.dle=t,this.dlemod.show()},datd(){this.getdat()},dels(){this.isload=!0;const t=`https://vue3-course-api.hexschool.io/api/runapi/admin/product/${this.dle.id}`;this.$http.delete(t).then((t=>{this.mitter.emit("test",{style:"rgb(230, 57, 57)",success:"刪除成功",message:t.data.message}),console.log(t),this.getdat()})),this.dlemod.hide()},currdl(){this.curr={}},isl(){this.isload=!0},boot(t){this.pic=t,this.picture.show()}},created(){this.getdat()},mounted(){this.dlemod=new(P())(this.$refs.dletmod),this.picture=new(P())(this.$refs.picture),this.mitter.emit("change",0)}},U=a(89);const q=(0,U.Z)(O,[["render",A],["__scopeId","data-v-0ec1c388"]]);var B=q}}]);
//# sourceMappingURL=863.d19c7cce.js.map