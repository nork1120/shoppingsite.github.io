"use strict";(self["webpackChunkcompleted"]=self["webpackChunkcompleted"]||[]).push([[467],{9467:function(e,r,t){t.r(r),t.d(r,{default:function(){return fe}});var i=t(3396),s=t(7139);const n=e=>((0,i.dD)("data-v-09f9effd"),e=e(),(0,i.Cn)(),e),o={class:"cont"},l=n((()=>(0,i._)("div",{class:"titl"},[(0,i._)("h1",null,"2.訂單確認")],-1))),u={class:"main"},a={class:"compendium"},d=n((()=>(0,i._)("div",{class:"comtitl"},[(0,i._)("h1",null,"商品")],-1))),c={class:"img"},h=["src"],m={class:"text"},p={class:"left"},f={class:"tltop"},_={class:"tlbottom"},w={key:0},g={key:1},v={key:2},y={class:"rigth"},O={class:"quantity"},C=n((()=>(0,i._)("h1",null,"數量",-1))),z={class:"amount"},k=n((()=>(0,i._)("p",null,"元",-1))),b={class:"all"},D=n((()=>(0,i._)("div",{class:"all_1"},[(0,i._)("b",null,"總金額")],-1))),x={key:0,class:"allnewcoupon"},$={class:"all_2"},Q=n((()=>(0,i._)("p",null,"元",-1))),S={class:"combutton"},q=n((()=>(0,i._)("div",{class:"comtitl"},[(0,i._)("h4",null,"訂單")],-1))),G={class:"comtext"},I={class:"text name"},R=n((()=>(0,i._)("h4",null,"姓名",-1))),V={class:"text email"},J=n((()=>(0,i._)("h4",null,"電子信箱",-1))),N={class:"text liaison"},U=n((()=>(0,i._)("h4",null,"聯絡方式",-1))),j={class:"text payment"},E=n((()=>(0,i._)("h4",null,"付款方式",-1))),M={key:0,class:"text money"},T=n((()=>(0,i._)("h4",null,"優惠卷",-1))),A={class:"green"},B={class:"text money"},F=n((()=>(0,i._)("h4",null,"金額",-1))),H={class:"green"},K=n((()=>(0,i._)("div",{class:"text state"},[(0,i._)("h4",null,"付款狀態"),(0,i._)("h4",{class:"red"},"未付款")],-1))),L={class:"text address"},Y=n((()=>(0,i._)("h4",null,"地址",-1))),Z={class:"message"},P=n((()=>(0,i._)("h4",null,"留言",-1))),W={class:"button"};function X(e,r,t,n,X,ee){return(0,i.wg)(),(0,i.iD)("div",o,[l,(0,i._)("div",u,[(0,i._)("div",a,[d,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(X.ConfirmOrder.orders,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"comtext",key:e.id},[(0,i._)("div",c,[(0,i._)("img",{src:e.imageUrl},null,8,h)]),(0,i._)("div",m,[(0,i._)("div",p,[(0,i._)("div",f,[(0,i._)("h1",null,(0,s.zw)(e.title),1)]),(0,i._)("div",_,[e.fishingQty>0?((0,i.wg)(),(0,i.iD)("p",w," 釣竿租借 "+(0,s.zw)(e.fishingQty)+"隻$"+(0,s.zw)(100*e.fishingQty),1)):(0,i.kq)("",!0),e.refrigeratorQty>0?((0,i.wg)(),(0,i.iD)("p",g," 冰箱租借 "+(0,s.zw)(e.refrigeratorQty)+"個$"+(0,s.zw)(50*e.refrigeratorQty),1)):(0,i.kq)("",!0),e.stagepropertyQty>0?((0,i.wg)(),(0,i.iD)("p",v," 漁具租借 "+(0,s.zw)(e.stagepropertyQty)+"組$"+(0,s.zw)(100*e.stagepropertyQty),1)):(0,i.kq)("",!0)])]),(0,i._)("div",y,[(0,i._)("div",O,[C,(0,i._)("p",null,(0,s.zw)(e.people),1)]),(0,i._)("div",z,[(0,i._)("h1",null,(0,s.zw)(e.price),1),k])])])])))),128)),(0,i._)("div",b,[D,""!=X.ConfirmOrder.newcoupon?((0,i.wg)(),(0,i.iD)("div",x,[(0,i._)("h5",null,"優惠"+(0,s.zw)(X.necou)+"元",1)])):(0,i.kq)("",!0),(0,i._)("div",$,[(0,i._)("h6",null,(0,s.zw)(X.ConfirmOrder.toto),1),Q])])]),(0,i._)("div",S,[q,(0,i._)("div",G,[(0,i._)("div",I,[R,(0,i._)("h4",null,(0,s.zw)(X.ConfirmOrder.name),1)]),(0,i._)("div",V,[J,(0,i._)("h4",null,(0,s.zw)(X.ConfirmOrder.mail),1)]),(0,i._)("div",N,[U,(0,i._)("h4",null,(0,s.zw)(X.ConfirmOrder.phone1),1)]),(0,i._)("div",j,[E,(0,i._)("h4",null,(0,s.zw)(X.ConfirmOrder.paymethod),1)]),""!=X.ConfirmOrder.newcoupon?((0,i.wg)(),(0,i.iD)("div",M,[T,(0,i._)("h4",A,"優惠"+(0,s.zw)(X.necou)+"元",1)])):(0,i.kq)("",!0),(0,i._)("div",B,[F,(0,i._)("h4",H,"$"+(0,s.zw)(X.ConfirmOrder.toto),1)]),K,(0,i._)("div",L,[Y,(0,i._)("h4",null,(0,s.zw)(X.ConfirmOrder.address),1)]),(0,i._)("div",Z,[P,(0,i._)("p",null,(0,s.zw)(X.ConfirmOrder.message),1)])]),(0,i._)("div",W,[(0,i._)("button",{type:"button",onClick:r[0]||(r[0]=(...e)=>ee.GenerateOrders&&ee.GenerateOrders(...e))},"確定付款")])])])])}t(8675),t(3462),t(1703);var ee,re=new Uint8Array(16);function te(){if(!ee&&(ee="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!ee))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ee(re)}var ie=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function se(e){return"string"===typeof e&&ie.test(e)}for(var ne=se,oe=[],le=0;le<256;++le)oe.push((le+256).toString(16).substr(1));function ue(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(oe[e[r+0]]+oe[e[r+1]]+oe[e[r+2]]+oe[e[r+3]]+"-"+oe[e[r+4]]+oe[e[r+5]]+"-"+oe[e[r+6]]+oe[e[r+7]]+"-"+oe[e[r+8]]+oe[e[r+9]]+"-"+oe[e[r+10]]+oe[e[r+11]]+oe[e[r+12]]+oe[e[r+13]]+oe[e[r+14]]+oe[e[r+15]]).toLowerCase();if(!ne(t))throw TypeError("Stringified UUID is invalid");return t}var ae=ue;function de(e,r,t){e=e||{};var i=e.random||(e.rng||te)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,r){t=t||0;for(var s=0;s<16;++s)r[t+s]=i[s];return r}return ae(i)}var ce=de,he={inject:["mitter"],data(){return{ConfirmOrder:{},newuser:{},uuii:"",cou:{},necou:""}},mounted(){scrollTo({top:0}),this.mitter.on("returnGenOrd",(e=>{this.newuser=e,this.newuser.journey={},void 0==this.newuser.Order&&(this.newuser.Order=[]),void 0==this.newuser.coupon&&(this.newuser.coupon=[])})),this.mitter.on("returnConfirmOrder",(e=>{this.ConfirmOrder=e,this.necou=this.ConfirmOrder.newcoupon.money})),this.mitter.emit("ConfirmOrder"),this.mitter.emit("GenOrd"),this.$emit("sty",2)},methods:{GenerateOrders(){if(this.uuii=ce(),this.uuii=this.uuii.slice(0,20),void 0!=this.necou){let e=[];this.ConfirmOrder.coupon.forEach((r=>{r.couponID!=this.ConfirmOrder.newcoupon.couponID&&e.push(r)})),this.ConfirmOrder.coupon=JSON.parse(JSON.stringify(e))}void 0!=this.ConfirmOrder.coupon&&(this.newuser.coupon=JSON.parse(JSON.stringify(this.ConfirmOrder.coupon))),console.log(222222),"海釣行程"==this.ConfirmOrder.orders[0].category&&(this.cou.money=10*Math.ceil(10*Math.random())+100,this.cou.couponID=ce(),this.cou.name=this.ConfirmOrder.name,this.newuser.coupon.push(this.cou)),console.log(111111),this.newuser.Order.push({orders:this.ConfirmOrder.orders,paymethod:this.ConfirmOrder.paymethod,message:this.ConfirmOrder.message,toto:this.ConfirmOrder.toto,name:this.ConfirmOrder.name,mail:this.ConfirmOrder.mail,address:this.ConfirmOrder.address,phone1:this.ConfirmOrder.phone1,uuid:this.uuii}),console.log(3333333);let e=this.newuser.Order.length;"海釣商品"==this.ConfirmOrder.orders[0].category&&(this.newuser.shoppingcart=[]),this.$emit("sta"),console.log(4444444);const r=`https://vue3-course-api.hexschool.io/api/testrunapi/admin/product/${this.newuser.id}`;this.$http.put(r,{data:this.newuser}).then((r=>{console.log(r),this.$emit("Fini"),this.mitter.emit("again",this.cou),this.mitter.emit("wwuse",this.ConfirmOrder.newcoupon),this.mitter.emit("Backstage",this.newuser.Order[e-1]),this.$router.push("/confirm/consummation")})),console.log(555555)}}},me=t(89);const pe=(0,me.Z)(he,[["render",X],["__scopeId","data-v-09f9effd"]]);var fe=pe}}]);
//# sourceMappingURL=467.b8bbe277.js.map