"use strict";(self["webpackChunkcompleted"]=self["webpackChunkcompleted"]||[]).push([[69],{5069:function(s,e,t){t.r(e),t.d(e,{default:function(){return v}});var a=t(3396),o=t(7139),n=t(9242);const l=s=>((0,a.dD)("data-v-080faefc"),s=s(),(0,a.Cn)(),s),i={class:"login"},r={class:"email form-floating"},u=l((()=>(0,a._)("label",{for:"floatingInputValue"},"帳號",-1))),c={class:"password form-floating"},d=l((()=>(0,a._)("label",{for:"floatingInputValue"},"密碼",-1))),p={class:"sub"};function m(s,e,t,l,m,h){const f=(0,a.up)("LoadIng"),g=(0,a.up)("toastall");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(f,{active:m.isload},null,8,["active"]),(0,a._)("div",i,[(0,a._)("form",null,[(0,a._)("div",r,[(0,a.wy)((0,a._)("input",{type:"email",class:(0,o.C_)(["form-control",{"is-invalid":m.swd}]),id:"floatingInputValue",placeholder:"name@example.com","onUpdate:modelValue":e[0]||(e[0]=s=>m.user.username=s),onInput:e[1]||(e[1]=(...s)=>h.ss&&h.ss(...s))},null,34),[[n.nr,m.user.username]]),u]),(0,a._)("div",c,[(0,a.wy)((0,a._)("input",{type:"password",class:"form-control",id:"floatingInputValue",placeholder:"name@example.com","onUpdate:modelValue":e[2]||(e[2]=s=>m.user.password=s)},null,512),[[n.nr,m.user.password]]),d]),(0,a._)("div",p,[(0,a._)("button",{class:"btn btn-success",onClick:e[3]||(e[3]=(0,n.iM)(((...s)=>h.login&&h.login(...s)),["prevent"]))},"送出")])])]),(0,a.Wm)(g)],64)}var h=t(4654),f={inject:["mitter"],data(){return{user:{username:"",password:""},swd:!1,isload:!1}},components:{toastall:h.Z},methods:{login(){this.isload=!0,console.log(this.user.username),console.log(this.user.password);const s="https://vue3-course-api.hexschool.io/admin/signin";this.$http.post(s,this.user).then((s=>{this.isload=!1;const{expired:e,token:t,message:a}=s.data;console.log(s,a),document.cookie=`hihi = ${t};expires = ${new Date(e)}`,s.data.success?this.$router.push("/LoginOK/ObtAin"):this.mitter.emit("test",{style:"rgb(230, 57, 57)",success:"登入失敗",message:"帳號或密碼錯誤"})})),this.user.username="",this.user.password=""},ss(){let s=/^([a-zA-Z0-9_.\-+])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;s.test(this.user.username)?this.swd=!1:this.swd=!0}}},g=t(89);const w=(0,g.Z)(f,[["render",m],["__scopeId","data-v-080faefc"]]);var v=w}}]);
//# sourceMappingURL=69.23fc3a25.js.map